package com.hunter.sys.controller;import com.hunter.common.constant.SysConstant;import com.hunter.sys.entity.SysUser;import com.hunter.sys.service.SysRandomNumberService;import com.hunter.sys.service.SysUserService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.ModelMap;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.RequestMethod;import javax.servlet.http.HttpServletRequest;import java.util.Date;import java.util.List;/** * @Author zhangcl * @Date 16/7/9  下午6:07 */@Controller@RequestMapping("/sys/user")public class SysUserController {    @Autowired    private SysUserService sysUserService;    @Autowired    private SysRandomNumberService sysRandomNumberService;    /**     * 保存用户     *     * @param request     * @param modelMap     * @return     */    @RequestMapping(value = "/save", method = RequestMethod.POST)    public String save(HttpServletRequest request, ModelMap modelMap) {        Date now =new Date();        String userName = request.getParameter("userName");        String userPhone = request.getParameter("userPhone");        SysUser sysUser = new SysUser();        sysUser.setName(userName);        sysUser.setPhone(userPhone);        sysUser.setCreateTime(now);        sysUser.setModifyTime(now);        sysUser.setCreateName(SysConstant.ZCL);        sysUser.setModifyName(SysConstant.ZCL);        sysUser.setCode(sysRandomNumberService.getRandomNumber() + "");        sysUserService.save(sysUser);        return "redirect:list.do";    }    /**     * 用户列表     *     * @param request     * @param modelMap     * @return     */    @RequestMapping(value = "/list", method = RequestMethod.GET)    public String list(HttpServletRequest request, ModelMap modelMap) {        List<SysUser> lists = sysUserService.findAllUsers();        modelMap.put("userList",lists);        return "sys/user/listUser";    }    @RequestMapping(value = "/add", method = RequestMethod.GET)    public String add(HttpServletRequest request, ModelMap modelMap) {        return "sys/user/addUser";    }}