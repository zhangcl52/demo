package com.hunter.common.util;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import java.lang.reflect.Field;import java.util.List;/** * @Author zhangcl * @Date 17/5/9  上午9:24 */public class EntityUtil {    private static Logger LOGGER = LoggerFactory.getLogger(EntityUtil.class);    private EntityUtil() {    }    /**     * 获取object的某些属性,并返回符合前端dataTable要求的数据格式     *     * @param list     * @param properties     * @return     */    public static String parseData(Class classname, List<Object> list, String[] properties) throws Exception {        StringBuilder sb = new StringBuilder("[");        if (null == list || list.size() < 1) {            throw new RuntimeException("parameter list must not be null");        }        Field[] fields = classname.getFields();        if (properties != null && properties.length > 0) {            for (Object object : list) {                sb.append("[");                for (String pro : properties) {                    for (Field field : fields) {                        if (field.getName().endsWith(pro)) {                            sb.append(field.get(object).toString()).append(",");                        }                    }                }                sb.replace(sb.length() - 1, sb.length(), "]").append(",");            }            sb.replace(sb.length() - 1, sb.length(), "]").append(",");        } else {            for (Object object : list) {                sb.append("[");                for (Field field : fields) {                    sb.append(field.get(object).toString()).append(",");                }                sb.replace(sb.length() - 1, sb.length(), "]").append(",");            }            sb.replace(sb.length() - 1, sb.length(), "]").append(",");        }        return sb.toString();    }    public static void main(String[] args) {        StringBuilder sb = new StringBuilder("1223444,");        System.out.println(sb.replace(sb.length() - 1, sb.length(), "X"));    }}