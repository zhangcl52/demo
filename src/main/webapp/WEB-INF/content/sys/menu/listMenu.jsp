<%@ page contentType="text/html;charset=UTF-8" language="java" %><html><head>    <%@ include file="../common/common.jsp" %>    <style type="text/css">        td.details-control {            background: url('/img/details_open.png') no-repeat center center;            cursor: pointer;        }        tr.shown td.details-control {            background: url('/img/details_close.png') no-repeat center center;        }    </style></head><p style="font-size-adjust: inherit">菜单管理</p><form class="form-horizontal" id="formId" role="form" action="${path}/sys/menu/list.do" method="post"></form><table id="tableId" class="table table-hover compact display order-column" width="100%"></table><script>    function format(d) {        // `d` is the original data object for the row        return '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">' +                '<tr>' +                '<td>Full name:</td>' +                '<td>' + d.name + '</td>' +                '</tr>' +                '<tr>' +                '<td>Extension number:</td>' +                '<td>' + d.extn + '</td>' +                '</tr>' +                '<tr>' +                '<td>Extra info:</td>' +                '<td>And any further details here (images etc)...</td>' +                '</tr>' +                '</table>';    }    $(document).ready(function () {        var dataSet =${data};        var table = $('#tableId').DataTable({            data: dataSet,            columns: [                {title: "序号"},                {title: "名称"},                {title: "url"},                {title: "创建人"},                {title: "创建时间"},                {                    "className": 'details-control',                    "orderable": false,                    "data": null,                    "defaultContent": ''                },                {title: "操作"}            ],            columnDefs: [                {                    targets: 0,                    render: function (data, type, row, index) {                        var rowNum = index['row'] + 1;                        var rowIndex = '<span>&nbsp;&nbsp;&nbsp;' + rowNum + '</span>';                        return rowIndex;                    }                },                {                    targets: 6,                    render: function (data) {                        var html = '<button type="button" class="btn btn-primary btn-sm" style="text-shadow: ' +                                'black 5px 3px 3px" onclick="modify(' + data["id"] + ')">' +                                ' <span class="glyphicon glyphicon-edit" ' +                                'style="color: rgb(255, 140, 60); font-size: 14px;">' +                                '</span> </button>';                        html = html + '&nbsp;<button type="button" class="btn btn-primary btn-sm" style="text-shadow: ' +                                'black 5px 3px 3px" onclick="remove(' + data["id"] + ')">' +                                ' <span class="glyphicon glyphicon-remove" ' +                                'style="color: rgb(255, 140, 60); font-size: 14px;">' +                                '</span> </button>';                        return html;                    },                    orderable: false                }            ],        });        // Add event listener for opening and closing details        $('#tableId tbody').on('click', 'td.details-control', function () {            var tr = $(this).closest('tr');            var row = table.row(tr);            if (row.child.isShown()) {                // This row is already open - close it                row.child.hide();                tr.removeClass('shown');            }            else {                // Open this row                row.child(format(row.data())).show();                tr.addClass('shown');            }        });    });</script></html>